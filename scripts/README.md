# æ•°æ®ç´¢å¼•ç”Ÿæˆè„šæœ¬

è¿™ä¸ªè„šæœ¬ç”¨äºè‡ªåŠ¨ç”Ÿæˆ GitHub Pages æ‰€éœ€çš„æ•°æ®ç´¢å¼•æ–‡ä»¶ã€‚

## é—®é¢˜èƒŒæ™¯

C# ç¨‹åºæ”¶é›†å£çº¸æ•°æ®ä¿å­˜åˆ° `archive/` ç›®å½•ï¼Œä½† GitHub Pages éœ€è¦ `page/data-index.js` æ–‡ä»¶æ¥å±•ç¤ºæ•°æ®ã€‚ä¹‹å‰è¿™ä¸ªæ–‡ä»¶æ²¡æœ‰è‡ªåŠ¨æ›´æ–°æœºåˆ¶ï¼Œå¯¼è‡´é¡µé¢æ— æ³•æ˜¾ç¤ºæœ€æ–°çš„å£çº¸æ•°æ®ã€‚

## è§£å†³æ–¹æ¡ˆ

### 1. æ‰‹åŠ¨è¿è¡Œè„šæœ¬

```bash
# è¿›å…¥è„šæœ¬ç›®å½•
cd scripts

# è¿è¡Œç”Ÿæˆè„šæœ¬
node generate-data-index.js
```

### 2. ä½¿ç”¨ GitHub Actions è‡ªåŠ¨åŒ–

æˆ‘ä»¬å·²ç»è®¾ç½®äº† GitHub Actions workflow (`.github/workflows/update-data-index.yml`)ï¼Œå®ƒä¼šï¼š

- ğŸ“… æ¯å¤©è‡ªåŠ¨æ£€æŸ¥å¹¶æ›´æ–°æ•°æ®ç´¢å¼•
- ğŸ”„ å½“ `archive/` ç›®å½•æœ‰æ–°æ–‡ä»¶æ—¶è‡ªåŠ¨è§¦å‘
- ğŸ“¤ è‡ªåŠ¨æäº¤æ›´æ–°åˆ°ä»“åº“
- ğŸš€ è§¦å‘ GitHub Pages é‡æ–°éƒ¨ç½²

### 3. å·¥ä½œæµç¨‹è§¦å‘æ¡ä»¶

- **è‡ªåŠ¨è§¦å‘**ï¼šå½“æœ‰æ–°çš„ JSON æ–‡ä»¶æ¨é€åˆ° `archive/` ç›®å½•
- **å®šæ—¶è§¦å‘**ï¼šæ¯å¤© UTC 3:00ï¼ˆåŒ—äº¬æ—¶é—´ 11:00ï¼‰
- **æ‰‹åŠ¨è§¦å‘**ï¼šåœ¨ GitHub Actions é¡µé¢æ‰‹åŠ¨è¿è¡Œ

## è„šæœ¬åŠŸèƒ½

âœ… æ‰«æ `archive/` ç›®å½•ä¸­çš„æ‰€æœ‰ JSON æ–‡ä»¶  
âœ… ç»Ÿè®¡æ¯ä¸ªå›½å®¶çš„æ•°æ®æ–‡ä»¶  
âœ… ç”Ÿæˆå®Œæ•´çš„æ—¥æœŸåˆ—è¡¨ï¼ˆæŒ‰æ—¶é—´å€’åºï¼‰  
âœ… åˆ›å»ºæ•°æ®å¯ç”¨æ€§æ˜ å°„  
âœ… ç”Ÿæˆç¬¦åˆå‰ç«¯è¦æ±‚çš„ JavaScript æ–‡ä»¶

## è¾“å‡ºæ–‡ä»¶æ ¼å¼

ç”Ÿæˆçš„ `page/data-index.js` åŒ…å«ï¼š

```javascript
window.WALLPAPER_DATA_INDEX = {
  "generated": "2025-09-01T23:52:58.000Z",  // ç”Ÿæˆæ—¶é—´
  "countries": [...],                        // æ‰€æœ‰å›½å®¶åˆ—è¡¨
  "dates": [...],                           // æ‰€æœ‰æ—¥æœŸåˆ—è¡¨ï¼ˆå€’åºï¼‰
  "totalFiles": 84,                         // æ€»æ–‡ä»¶æ•°
  "availableData": {                        // æ¯ä¸ªå›½å®¶çš„å¯ç”¨æ—¥æœŸ
    "China": ["2025-09-01", "2025-08-31", ...],
    "UnitedStates": ["2025-09-01", "2025-08-31", ...],
    // ...
  }
};
```

## éªŒè¯è„šæœ¬

è¿è¡Œåå¯ä»¥éªŒè¯ï¼š

1. **æ–‡ä»¶æ›´æ–°**ï¼šæ£€æŸ¥ `page/data-index.js` çš„ä¿®æ”¹æ—¶é—´
2. **æ•°æ®å®Œæ•´æ€§**ï¼šç¡®è®¤æœ€æ–°æ—¥æœŸå’Œæ–‡ä»¶æ€»æ•°
3. **å‰ç«¯å±•ç¤º**ï¼šè®¿é—® GitHub Pages æŸ¥çœ‹æœ€æ–°å£çº¸

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **è„šæœ¬è¿è¡Œå¤±è´¥**

   - æ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼ˆéœ€è¦ >= 14ï¼‰
   - ç¡®è®¤ `archive/` ç›®å½•å­˜åœ¨ä¸”åŒ…å«æ•°æ®

2. **GitHub Actions å¤±è´¥**

   - æ£€æŸ¥ä»“åº“æƒé™è®¾ç½®
   - ç¡®è®¤ Actions æœ‰å†™å…¥æƒé™

3. **Pages ä¸æ˜¾ç¤ºæœ€æ–°æ•°æ®**
   - ç­‰å¾… GitHub Pages éƒ¨ç½²å®Œæˆï¼ˆé€šå¸¸ 2-5 åˆ†é’Ÿï¼‰
   - æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
   - æ£€æŸ¥ `data-index.js` æ˜¯å¦æ­£ç¡®æ›´æ–°

### è°ƒè¯•å‘½ä»¤

```bash
# æ£€æŸ¥å½“å‰æ•°æ®çŠ¶æ€
find archive -name "*.json" | wc -l
ls -la archive/

# éªŒè¯ç”Ÿæˆçš„ç´¢å¼•æ–‡ä»¶
head -30 page/data-index.js
grep "totalFiles\|generated" page/data-index.js
```

## æœªæ¥æ”¹è¿›

- [ ] æ”¯æŒå¢é‡æ›´æ–°ï¼ˆåªå¤„ç†å˜åŒ–çš„æ–‡ä»¶ï¼‰
- [ ] æ·»åŠ æ•°æ®éªŒè¯å’Œé”™è¯¯æ£€æŸ¥
- [ ] æ”¯æŒè‡ªå®šä¹‰è¾“å‡ºæ ¼å¼
- [ ] æ·»åŠ æ€§èƒ½ç›‘æ§å’Œæ—¥å¿—
